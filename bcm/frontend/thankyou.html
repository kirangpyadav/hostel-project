<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thank You!</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <h1 class="heading">Save Food, Save Lives</h1>
    <div class="subheading">BCM Hostel Meal Confirmation System</div>

    <div class="container thankyou-container">
        <div class="thankyou-content">
            <img src="thankyou-icon (1).png" alt="Thank You Icon" class="thankyou-image" />
            <h2>Thank You for Your Confirmation!</h2>
            <p class="main-message">
                Thank you, <span id="studentNameSpan"></span> from <span id="hostelSpan"></span>, SSP ID: <span id="sspIdSpan"></span>!
            </p>
            <p id="confirmedMeals" class="confirmation-details"></p>
            <p class="final-message">Your contribution helps reduce food waste.</p>
        </div>
        <button onclick="window.location.href='index.html'" class="back-to-login-btn">Go to Login</button>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const confirmedMealsElement = document.getElementById("confirmedMeals");
            const studentNameSpan = document.getElementById("studentNameSpan");
            const hostelSpan = document.getElementById("hostelSpan");
            const sspIdSpan = document.getElementById("sspIdSpan");

            const selectedMeals = JSON.parse(localStorage.getItem("selectedMeals") || "[]");
            const studentName = localStorage.getItem("studentName") || "Student";
            const hostel = localStorage.getItem("hostel") || "Hostel";
            const sspId = localStorage.getItem("sspId") || "N/A";

            studentNameSpan.textContent = studentName;
            hostelSpan.textContent = hostel;
            sspIdSpan.textContent = sspId;

            if (selectedMeals.length > 0) {
                const formattedMeals = selectedMeals
                    .map(meal => meal.charAt(0).toUpperCase() + meal.slice(1))
                    .join(", ");
                confirmedMealsElement.textContent = `You confirmed: ${formattedMeals}.`;
            } else {
                confirmedMealsElement.textContent = "No meals were selected for confirmation.";
            }

            // Optional: clear session data
            // localStorage.clear();
        });
    </script>
</body>
</html>
